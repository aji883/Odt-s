<%- include('partials/header', { title: title, bodyClass: bodyClass }) %>

<div class="profile-container">

    <aside class="profile-sidebar">
        <div class="user-info">
            
            <img src="/<%= typeof profileUser.profile_picture_url != 'undefined' && profileUser.profile_picture_url ? profileUser.profile_picture_url : 'uploads/default-avatar.png' %>"
                 alt="<%= profileUser.username %>"
                 class="user-avatar">
            <h2 class="user-name"><%= profileUser.username %></h2>
            <p class="user-email">
                Bergabung sejak: <%= new Date(profileUser.created_at).toLocaleDateString('id-ID') %>
            </p> 
            <p class="user-phone">
                <%= typeof profileUser.phone_number != 'undefined' && profileUser.phone_number ? profileUser.phone_number : 'No. Telepon tidak dibagikan' %>
            </p>
        </div>
        </aside>

    <div class="profile-main">
        <div class="main-header-block">
            <h1>Koleksi <%= profileUser.username %></h1>
            <p>Lihat semua item yang di-upload oleh <%= profileUser.username %>.</p>
        </div>

        <div class="items-grid">
            <% if(items && items.length > 0) { %>
                <% items.forEach(item => { %>
                    <div class="item-card">
                        <a href="/items/<%= item.id %>" style="text-decoration: none; color: inherit;">
                            <img src="/<%= item.image_url %>" alt="<%= item.title %>" class="item-image">
                            <h3><%= item.title %></h3>
                        </a>
                        </div>
                <% }) %>
            <% } else { %>
                <p><%= profileUser.username %> belum mengupload item apapun.</p>
            <% } %>
        </div>
    </div>
</div>

<%- include('partials/footer') %>